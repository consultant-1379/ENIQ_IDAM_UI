{"version":3,"sources":["../../../XUI/components/form/Form.jsx"],"names":["Form","props","orderedProperties","schema","properties","uiSchema","property","type","propTypes","objectOf","any"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;;;;;;;;AAQA,QAAMA,OAAO,SAAPA,IAAO,CAACC,KAAD,EAAW;AACpB,YAAMC,oBAAoB,oBAAOD,MAAME,MAAN,CAAaC,UAApB,EAAgC,eAAhC,CAA1B;;AAEA,YAAMC;AACF,wBAAY,iBAAIH,iBAAJ,EAAuB,UAACI,QAAD;AAAA,uBAAc,qBAAQL,MAAME,MAAN,CAAaC,UAArB,EAAiCE,QAAjC,CAAd;AAAA,aAAvB;AADV,WAEC,uBAAUL,MAAME,MAAN,CAAaC,UAAvB,EAAmC,UAACE,QAAD,EAAc;AAChD,gBAAMD,WAAW,EAAjB;;AAEA,gBAAIC,SAASC,IAAT,KAAkB,SAAtB,EAAiC;AAC7BF,yBAAS,WAAT,IAAwB,kBAAxB;AACH,aAFD,MAEO,IAAIC,SAASC,IAAT,KAAkB,QAAtB,EAAgC;AACnCF,yBAAS,UAAT,IAAuB,eAAvB;AACH;;AAED,gBAAI,iBAAIC,QAAJ,EAAc,QAAd,MAA4B,UAAhC,EAA4C;AACxCD,yBAAS,gBAAT,IAA6B,gBAAE,iCAAF,CAA7B;AACH;;AAED,mBAAOA,QAAP;AACH,SAdE,CAFD,CAAN;;AAmBA,eACI;AACI,8DADJ;AAEI,mCAFJ;AAGI,8BAHJ;AAII,2BAAgB,KAJpB;AAKI,sBAAWA,QALf;AAMI;AANJ,WAOSJ,KAPT,EADJ;AAWH,KAjCD;;AAmCAD,SAAKQ,SAAL,GAAiB;AACbL,gBAAQ,iBAAUM,QAAV,CAAmB,iBAAUC,GAA7B;AADK,KAAjB;;sBAIeV,I","file":"Form.js","sourcesContent":["/*\n * The contents of this file are subject to the terms of the Common Development and\n * Distribution License (the License). You may not use this file except in compliance with the\n * License.\n *\n * You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the\n * specific language governing permission and limitations under the License.\n *\n * When distributing Covered Software, include this CDDL Header Notice in each file and include\n * the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL\n * Header, with the fields enclosed by brackets [] replaced by your own identifying\n * information: \"Portions copyright [year] [name of copyright owner]\".\n *\n * Copyright 2017 ForgeRock AS.\n */\n\nimport { findKey, get, map, mapValues, sortBy } from \"lodash\";\nimport { t } from \"i18next\";\nimport React, { PropTypes } from \"react\";\nimport ReactJSONSchemaForm from \"react-jsonschema-form\";\n\nimport fields from \"components/form/fields/index\";\nimport widgets from \"components/form/widgets/index\";\nimport VerticalFormFieldTemplate from \"components/form/fields/VerticalFormFieldTemplate\";\n\n/**\n * Wrapping component around the react-jsonschema-form library.\n * @module components/form/Form\n * @param {Object} props Component properties.\n * @param {Object} props.schema Schema for the data.\n * @returns {ReactElement} Wrapping component around react-jsonschema-form\n * @see https://github.com/mozilla-services/react-jsonschema-form\n */\nconst Form = (props) => {\n    const orderedProperties = sortBy(props.schema.properties, \"propertyOrder\");\n\n    const uiSchema = {\n        \"ui:order\": map(orderedProperties, (property) => findKey(props.schema.properties, property)),\n        ...mapValues(props.schema.properties, (property) => {\n            const uiSchema = {};\n\n            if (property.type === \"boolean\") {\n                uiSchema[\"ui:widget\"] = \"TitatoggleWidget\";\n            } else if (property.type === \"object\") {\n                uiSchema[\"ui:field\"] = \"KeyValueField\";\n            }\n\n            if (get(property, \"format\") === \"password\") {\n                uiSchema[\"ui:placeholder\"] = t(\"common.form.passwordPlaceholder\");\n            }\n\n            return uiSchema;\n        })\n    };\n\n    return (\n        <ReactJSONSchemaForm\n            FieldTemplate={ VerticalFormFieldTemplate }\n            fields={ fields }\n            liveValidate\n            showErrorList={ false }\n            uiSchema={ uiSchema }\n            widgets={ widgets }\n            { ...props }\n        />\n    );\n};\n\nForm.propTypes = {\n    schema: PropTypes.objectOf(PropTypes.any)\n};\n\nexport default Form;\n"]}