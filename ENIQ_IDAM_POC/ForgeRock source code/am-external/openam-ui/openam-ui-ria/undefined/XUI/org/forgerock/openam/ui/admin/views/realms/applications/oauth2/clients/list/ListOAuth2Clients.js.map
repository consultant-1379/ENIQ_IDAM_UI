{"version":3,"sources":["../../../../../../../../../../../../XUI/org/forgerock/openam/ui/admin/views/realms/applications/oauth2/clients/list/ListOAuth2Clients.jsx"],"names":["ListOAuth2Clients","state","selectedIds","nextProps","clientsSetHasChanged","props","clients","sort","setState","handleOnDelete","onDelete","handleRowClick","row","onEdit","_id","handleSelectedChange","ids","toolbar","content","isFetching","newHref","length","cell","propTypes","arrayOf","object","isRequired","bool","string","func"],"mappings":"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","file":"ListOAuth2Clients.js","sourcesContent":["/*\n * The contents of this file are subject to the terms of the Common Development and\n * Distribution License (the License). You may not use this file except in compliance with the\n * License.\n *\n * You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the\n * specific language governing permission and limitations under the License.\n *\n * When distributing Covered Software, include this CDDL Header Notice in each file and include\n * the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL\n * Header, with the fields enclosed by brackets [] replaced by your own identifying\n * information: \"Portions copyright [year] [name of copyright owner]\".\n *\n * Copyright 2017 ForgeRock AS.\n */\n\nimport { Panel } from \"react-bootstrap\";\nimport { isEmpty, isEqual, pluck } from \"lodash\";\nimport { t } from \"i18next\";\nimport { TableHeaderColumn } from \"react-bootstrap-table\";\nimport React, { Component, PropTypes } from \"react\";\n\nimport dataFieldObjectPath from \"components/table/cells/dataFieldObjectPath\";\nimport IconCell from \"components/table/cells/IconCell\";\nimport ListOAuth2ClientsCallToAction from \"./ListOAuth2ClientsCallToAction\";\nimport ListOAuth2Toolbar from \"./ListOAuth2Toolbar\";\nimport Loading from \"components/Loading\";\nimport StatusCell from \"components/table/cells/StatusCell\";\nimport Table from \"components/table/Table\";\n\nclass ListOAuth2Clients extends Component {\n    constructor () {\n        super();\n        this.state = { selectedIds: [] };\n    }\n\n    componentWillReceiveProps (nextProps) {\n        const clientsSetHasChanged = !isEqual(\n            pluck(this.props.clients, \"_id\").sort(),\n            pluck(nextProps.clients, \"_id\").sort()\n        );\n\n        if (clientsSetHasChanged) {\n            // deselect everything in case of pagination, items deletion, etc.\n            this.setState({ selectedIds: [] });\n        }\n    }\n\n    render () {\n        const handleOnDelete = () => this.props.onDelete(this.state.selectedIds);\n        const handleRowClick = (row) => this.props.onEdit(row._id);\n        const handleSelectedChange = (ids) => this.setState({ selectedIds: ids });\n        let toolbar;\n        let content;\n\n        if (this.props.isFetching) {\n            content = <Loading />;\n        } else if (isEmpty(this.props.clients)) {\n            content = <ListOAuth2ClientsCallToAction href={ this.props.newHref } />;\n        } else {\n            toolbar = (\n                <ListOAuth2Toolbar\n                    isDeleteDisabled={ !this.state.selectedIds.length }\n                    newHref={ this.props.newHref }\n                    numberSelected={ this.state.selectedIds.length }\n                    onDelete={ handleOnDelete }\n                />\n            );\n            content = (\n                <Table\n                    data={ this.props.clients }\n                    idField=\"_id\"\n                    onRowClick={ handleRowClick }\n                    onSelectedChange={ handleSelectedChange }\n                    selectedIds={ this.state.selectedIds }\n                >\n                    <TableHeaderColumn dataField=\"_id\" dataFormat={ IconCell(\"fa-list-alt\") } dataSort isKey>\n                        { t(\"console.applications.oauth2.clients.list.grid.0\") }\n                    </TableHeaderColumn>\n                    <TableHeaderColumn\n                        dataField=\"coreOAuth2ClientConfig\"\n                        dataFormat={ dataFieldObjectPath((cell) => cell, \"agentgroup\") }\n                        dataSort\n                    >\n                        { t(\"console.applications.oauth2.clients.list.grid.1\") }\n                    </TableHeaderColumn>\n                    <TableHeaderColumn\n                        dataField=\"coreOAuth2ClientConfig\"\n                        dataFormat={ dataFieldObjectPath(StatusCell, \"status\") }\n                        dataSort\n                    >\n                        { t(\"console.applications.oauth2.clients.list.grid.2\") }\n                    </TableHeaderColumn>\n                </Table>\n            );\n        }\n\n        return (\n            <Panel className=\"fr-panel-tab\">\n                { toolbar }\n                { content }\n            </Panel>\n        );\n    }\n}\n\nListOAuth2Clients.propTypes = {\n    clients: PropTypes.arrayOf(PropTypes.object).isRequired,\n    isFetching: PropTypes.bool.isRequired,\n    newHref: PropTypes.string.isRequired,\n    onDelete: PropTypes.func.isRequired,\n    onEdit: PropTypes.func.isRequired\n};\n\nexport default ListOAuth2Clients;\n"]}