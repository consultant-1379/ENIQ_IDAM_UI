{"version":3,"sources":["../../../../../../../../../../../XUI/org/forgerock/openam/ui/admin/views/realms/authorization/policies/conditions/ConditionAttrStringView.js"],"names":["define","$","_","Constants","ConditionAttrBaseView","extend","template","render","data","element","callback","cssClass","title","schema","pattern","IPV4_PATTERN","IPV6_PATTERN","value","type","NUMBER_PATTERN","INTEGER_PATTERN","initBasic","parentRender","attrSpecificChangeInput","itemData","authenticateToRealm","indexOf"],"mappings":";;AAAA;;;;;;;;;;;;;;;;AAgBAA,OAAO,CACH,QADG,EAEH,QAFG,EAGH,gDAHG,EAIH,oGAJG,CAAP,EAKG,UAAUC,CAAV,EAAaC,CAAb,EAAgBC,SAAhB,EAA2BC,qBAA3B,EAAkD;AACjD,WAAOA,sBAAsBC,MAAtB,CAA6B;AAChCC,kBAAU,yFADsB;;AAGhCC,cAHgC,kBAGxBC,IAHwB,EAGlBC,OAHkB,EAGTC,QAHS,EAGC;AAC7B,gBAAIC,WAAW,EAAf;;AAEA,gBAAIH,KAAKI,KAAL,KAAe,SAAf,IAA4BJ,KAAKI,KAAL,KAAe,OAA/C,EAAwD;AACpD,oBAAIJ,KAAKK,MAAL,CAAYD,KAAZ,KAAsB,MAA1B,EAAkC;AAC9BJ,yBAAKM,OAAL,GAAeX,UAAUY,YAAzB;AACH,iBAFD,MAEO,IAAIP,KAAKK,MAAL,CAAYD,KAAZ,KAAsB,MAA1B,EAAkC;AACrCJ,yBAAKM,OAAL,GAAeX,UAAUa,YAAzB;AACH;AACDL,2BAAW,iBAAX;AACH,aAPD,MAOO,IAAIH,KAAKS,KAAL,IAAcT,KAAKS,KAAL,CAAWC,IAAX,KAAoB,QAAtC,EAAgD;AACnDV,qBAAKM,OAAL,GAAeX,UAAUgB,cAAzB;AACH,aAFM,MAEA,IAAIX,KAAKS,KAAL,IAAcT,KAAKS,KAAL,CAAWC,IAAX,KAAoB,SAAtC,EAAiD;AACpDV,qBAAKM,OAAL,GAAeX,UAAUiB,eAAzB;AACH,aAFM,MAEA;AACHZ,qBAAKM,OAAL,GAAe,IAAf;AACH;;AAED,iBAAKO,SAAL,CAAeb,IAAf,EAAqBC,OAArB,oCAA8DE,QAA9D;;AAEA,iBAAKW,YAAL,CAAkB,YAAY;AAC1B,oBAAIZ,QAAJ,EAAc;AACVA;AACH;AACJ,aAJD;AAKH,SA5B+B;AA8BhCa,+BA9BgC,qCA8BL;AACvB,gBAAI,KAAKf,IAAL,CAAUI,KAAV,KAAoB,qBAAxB,EAA+C;AAC3C,oBAAIY,WAAW,KAAKhB,IAAL,CAAUgB,QAAzB;AACA,oBAAIA,SAASC,mBAAT,CAA6BC,OAA7B,CAAqC,GAArC,MAA8C,CAAlD,EAAqD;AACjDF,6BAASC,mBAAT,SAAmCD,SAASC,mBAA5C;AACH;AACJ;AACJ;AArC+B,KAA7B,CAAP;AAuCH,CA7CD","file":"ConditionAttrStringView.js","sourcesContent":["/*\n * The contents of this file are subject to the terms of the Common Development and\n * Distribution License (the License). You may not use this file except in compliance with the\n * License.\n *\n * You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the\n * specific language governing permission and limitations under the License.\n *\n * When distributing Covered Software, include this CDDL Header Notice in each file and include\n * the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL\n * Header, with the fields enclosed by brackets [] replaced by your own identifying\n * information: \"Portions copyright [year] [name of copyright owner]\".\n *\n * Copyright 2015-2017 ForgeRock AS.\n */\n\ndefine([\n    \"jquery\",\n    \"lodash\",\n    \"org/forgerock/commons/ui/common/util/Constants\",\n    \"org/forgerock/openam/ui/admin/views/realms/authorization/policies/conditions/ConditionAttrBaseView\"\n], function ($, _, Constants, ConditionAttrBaseView) {\n    return ConditionAttrBaseView.extend({\n        template: \"templates/admin/views/realms/authorization/policies/conditions/ConditionAttrString.html\",\n\n        render (data, element, callback) {\n            var cssClass = \"\";\n\n            if (data.title === \"startIp\" || data.title === \"endIp\") {\n                if (data.schema.title === \"IPv4\") {\n                    data.pattern = Constants.IPV4_PATTERN;\n                } else if (data.schema.title === \"IPv6\") {\n                    data.pattern = Constants.IPV6_PATTERN;\n                }\n                cssClass = \"auto-fill-group\";\n            } else if (data.value && data.value.type === \"number\") {\n                data.pattern = Constants.NUMBER_PATTERN;\n            } else if (data.value && data.value.type === \"integer\") {\n                data.pattern = Constants.INTEGER_PATTERN;\n            } else {\n                data.pattern = null;\n            }\n\n            this.initBasic(data, element, `field-float-pattern data-obj ${cssClass}`);\n\n            this.parentRender(function () {\n                if (callback) {\n                    callback();\n                }\n            });\n        },\n\n        attrSpecificChangeInput () {\n            if (this.data.title === \"authenticateToRealm\") {\n                var itemData = this.data.itemData;\n                if (itemData.authenticateToRealm.indexOf(\"/\") !== 0) {\n                    itemData.authenticateToRealm = `/${itemData.authenticateToRealm}`;\n                }\n            }\n        }\n    });\n});\n"]}