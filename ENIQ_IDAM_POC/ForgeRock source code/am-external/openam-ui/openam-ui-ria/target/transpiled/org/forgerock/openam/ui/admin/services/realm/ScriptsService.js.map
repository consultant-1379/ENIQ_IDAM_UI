{"version":3,"sources":["../../../../../../../../XUI/org/forgerock/openam/ui/admin/services/realm/ScriptsService.js"],"names":["define","Messages","AbstractDelegate","Constants","fetchUrl","obj","host","context","getLocalizedResponse","response","addMessage","type","TYPE_DANGER","validateScript","data","serviceCall","url","default","realm","headers","JSON","stringify","error"],"mappings":";;AAAA;;;;;;;;;;;;;;;;AAgBA;;;AAGAA,OAAO,CACH,qDADG,EAEH,uDAFG,EAGH,gDAHG,EAIH,kDAJG,CAAP,EAKG,UAAUC,QAAV,EAAoBC,gBAApB,EAAsCC,SAAtC,EAAiDC,QAAjD,EAA2D;AAC1D,QAAIC,MAAM,IAAIH,gBAAJ,MAAwBC,UAAUG,IAAlC,GAAyCH,UAAUI,OAAnD,WAAV;;AAEA,aAASC,oBAAT,CAA+BC,QAA/B,EAAyC;AACrCR,iBAASS,UAAT,CAAoB;AAChBC,kBAAMV,SAASW,WADC;AAEhBH;AAFgB,SAApB;AAIH;;AAEDJ,QAAIQ,cAAJ,GAAqB,UAAUC,IAAV,EAAgB;AACjC,eAAOT,IAAIU,WAAJ,CAAgB;AACnBC,iBAAKZ,SAASa,OAAT,CAAiB,4BAAjB,EAA+C,EAAEC,OAAO,KAAT,EAA/C,CADc;AAEnBC,qBAAS,EAAE,sBAAsB,2BAAxB,EAFU;AAGnBR,kBAAM,MAHa;AAInBG,kBAAMM,KAAKC,SAAL,CAAeP,IAAf,CAJa;AAKnBQ,mBAAOd;AALY,SAAhB,CAAP;AAOH,KARD;;AAUA,WAAOH,GAAP;AACH,CA1BD","file":"ScriptsService.js","sourcesContent":["/*\n * The contents of this file are subject to the terms of the Common Development and\n * Distribution License (the License). You may not use this file except in compliance with the\n * License.\n *\n * You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the\n * specific language governing permission and limitations under the License.\n *\n * When distributing Covered Software, include this CDDL Header Notice in each file and include\n * the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL\n * Header, with the fields enclosed by brackets [] replaced by your own identifying\n * information: \"Portions copyright [year] [name of copyright owner]\".\n *\n * Copyright 2015-2017 ForgeRock AS.\n */\n\n/**\n* @module org/forgerock/openam/ui/admin/services/realm/ScriptsService\n*/\ndefine([\n    \"org/forgerock/commons/ui/common/components/Messages\",\n    \"org/forgerock/commons/ui/common/main/AbstractDelegate\",\n    \"org/forgerock/commons/ui/common/util/Constants\",\n    \"org/forgerock/openam/ui/common/services/fetchUrl\"\n], function (Messages, AbstractDelegate, Constants, fetchUrl) {\n    var obj = new AbstractDelegate(`${Constants.host}${Constants.context}/json`);\n\n    function getLocalizedResponse (response) {\n        Messages.addMessage({\n            type: Messages.TYPE_DANGER,\n            response\n        });\n    }\n\n    obj.validateScript = function (data) {\n        return obj.serviceCall({\n            url: fetchUrl.default(\"/scripts/?_action=validate\", { realm: false }),\n            headers: { \"Accept-API-Version\": \"protocol=1.0,resource=1.0\" },\n            type: \"POST\",\n            data: JSON.stringify(data),\n            error: getLocalizedResponse\n        });\n    };\n\n    return obj;\n});\n"]}