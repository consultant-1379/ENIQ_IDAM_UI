{"version":3,"sources":["../../../../../../../../../XUI/org/forgerock/commons/ui/common/components/navigation/filters/RoleFilter.js"],"names":["define","_","Configuration","filter","links","link","linkName","linkHasNoRole","userHasNecessaryRole","role","loggedUser","contains","uiroles"],"mappings":";;AAAA;;;;;;;;;;;;;;;;AAgBA;;;;;;;AAOA;AACCA,OAAO,CACJ,QADI,EAEJ,oDAFI,CAAP,EAGE,UAASC,CAAT,EAAYC,aAAZ,EAA2B;AAC1B,WAAO;AACHC,gBAAQ,gBAASC,KAAT,EAAgB;AACpB,gBAAIC,IAAJ,EAAUC,QAAV,EAAoBC,aAApB,EAAmCC,oBAAnC;;AAEA,iBAAKF,QAAL,IAAiBF,KAAjB,EAAwB;AACpBC,uBAAOD,MAAME,QAAN,CAAP;;AAEAC,gCAAgB,CAACF,KAAKI,IAAtB;AACAD,uCAAuBH,KAAKI,IAAL,IAAaP,cAAcQ,UAA3B,IAChBT,EAAEU,QAAF,CAAWT,cAAcQ,UAAd,CAAyBE,OAApC,EAA6CP,KAAKI,IAAlD,CADP;;AAGA,oBAAIF,iBAAiBC,oBAArB,EAA2C;AACvC,2BAAOJ,MAAME,QAAN,CAAP;AACH;AACJ;AACJ;AAfE,KAAP;AAiBH,CArBA","file":"RoleFilter.js","sourcesContent":["/**\r\n * The contents of this file are subject to the terms of the Common Development and\r\n * Distribution License (the License). You may not use this file except in compliance with the\r\n * License.\r\n *\r\n * You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the\r\n * specific language governing permission and limitations under the License.\r\n *\r\n * When distributing Covered Software, include this CDDL Header Notice in each file and include\r\n * the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL\r\n * Header, with the fields enclosed by brackets [] replaced by your own identifying\r\n * information: \"Portions copyright [year] [name of copyright owner]\".\r\n *\r\n * Copyright 2015-2016 ForgeRock AS.\r\n */\r\n\r\n/**\r\n * Filters links on the logged-in users role, returning the first matching link.\r\n *\r\n * If a link has no role, it will be considered matching.\r\n *\r\n * @module org/forgerock/commons/ui/common/components/navigation/filters/RoleFilter\r\n */\r\n/* eslint-disable */\r\n define([\r\n    \"lodash\",\r\n    \"org/forgerock/commons/ui/common/main/Configuration\"\r\n], function(_, Configuration) {\r\n    return {\r\n        filter: function(links) {\r\n            var link, linkName, linkHasNoRole, userHasNecessaryRole;\r\n\r\n            for (linkName in links) {\r\n                link = links[linkName];\r\n\r\n                linkHasNoRole = !link.role;\r\n                userHasNecessaryRole = link.role && Configuration.loggedUser\r\n                    && _.contains(Configuration.loggedUser.uiroles, link.role);\r\n\r\n                if (linkHasNoRole || userHasNecessaryRole) {\r\n                    return links[linkName];\r\n                }\r\n            }\r\n        }\r\n    };\r\n});"]}