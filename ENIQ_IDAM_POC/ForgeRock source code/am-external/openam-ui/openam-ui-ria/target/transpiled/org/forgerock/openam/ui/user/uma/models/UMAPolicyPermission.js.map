{"version":3,"sources":["../../../../../../../../XUI/org/forgerock/openam/ui/user/uma/models/UMAPolicyPermission.js"],"names":["define","Backbone","BackboneRelational","UMAPolicyPermissionScope","RelationalModel","extend","idAttribute","relations","type","HasMany","key","relatedModel","includeInJSON","Model","prototype","parse","validate","attributes","subject","scopes","length"],"mappings":";;AAAA;;;;;;;;;;;;;;;;AAgBAA,OAAO,CACH,UADG,EAEH,qBAFG,EAGH,kEAHG,CAAP,EAIG,UAAUC,QAAV,EAAoBC,kBAApB,EAAwCC,wBAAxC,EAAkE;AACjE,WAAOF,SAASG,eAAT,CAAyBC,MAAzB,CAAgC;AACnCC,qBAAa,SADsB;AAEnCC,mBAAW,CAAC;AACRC,kBAAMP,SAASQ,OADP;AAERC,iBAAK,QAFG;AAGRC,0BAAcR,wBAHN;AAIRS,2BAAeX,SAASY,KAAT,CAAeC,SAAf,CAAyBR,WAJhC;AAKRS,mBAAO;AALC,SAAD,CAFwB;AASnCC,gBATmC,oBASzBC,UATyB,EASb;AAClB,gBAAI,CAACA,WAAWC,OAAhB,EAAyB;AAAE,uBAAO,YAAP;AAAsB,aAD/B,CACgC;AAClD,gBAAI,CAACD,WAAWE,MAAZ,IAAsB,CAACF,WAAWE,MAAX,CAAkBC,MAA7C,EAAqD;AAAE,uBAAO,WAAP;AAAqB,aAF1D,CAE2D;AAChF;AAZkC,KAAhC,CAAP;AAcH,CAnBD","file":"UMAPolicyPermission.js","sourcesContent":["/*\n * The contents of this file are subject to the terms of the Common Development and\n * Distribution License (the License). You may not use this file except in compliance with the\n * License.\n *\n * You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the\n * specific language governing permission and limitations under the License.\n *\n * When distributing Covered Software, include this CDDL Header Notice in each file and include\n * the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL\n * Header, with the fields enclosed by brackets [] replaced by your own identifying\n * information: \"Portions copyright [year] [name of copyright owner]\".\n *\n * Copyright 2015-2017 ForgeRock AS.\n */\n\ndefine([\n    \"backbone\",\n    \"backbone-relational\",\n    \"org/forgerock/openam/ui/user/uma/models/UMAPolicyPermissionScope\"\n], function (Backbone, BackboneRelational, UMAPolicyPermissionScope) {\n    return Backbone.RelationalModel.extend({\n        idAttribute: \"subject\",\n        relations: [{\n            type: Backbone.HasMany,\n            key: \"scopes\",\n            relatedModel: UMAPolicyPermissionScope,\n            includeInJSON: Backbone.Model.prototype.idAttribute,\n            parse: true\n        }],\n        validate (attributes) {\n            if (!attributes.subject) { return \"no subject\"; } // FIXME i18n\n            if (!attributes.scopes || !attributes.scopes.length) { return \"no scopes\"; } // FIXME i18n\n        }\n    });\n});\n"]}