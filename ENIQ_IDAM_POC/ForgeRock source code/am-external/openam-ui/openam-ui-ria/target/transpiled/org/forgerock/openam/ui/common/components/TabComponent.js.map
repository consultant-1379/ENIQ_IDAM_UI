{"version":3,"sources":["../../../../../../../XUI/org/forgerock/openam/ui/common/components/TabComponent.js"],"names":["define","$","_","Backbone","UIUtils","has","attribute","tab","TypeError","isString","TabComponent","View","extend","template","bodyTemplate","events","initialize","options","tabs","Array","isEmpty","each","partial","value","getBody","tabBody","getBodyElement","$el","find","getFooter","tabFooter","getFooterElement","getTabId","currentTabId","setTabId","id","handleTabClick","event","currentTarget","data","createFooter","createBody","compileTemplate","then","html","setElement","render","tabdrop"],"mappings":"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","file":"TabComponent.js","sourcesContent":["/*\n * The contents of this file are subject to the terms of the Common Development and\n * Distribution License (the License). You may not use this file except in compliance with the\n * License.\n *\n * You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the\n * specific language governing permission and limitations under the License.\n *\n * When distributing Covered Software, include this CDDL Header Notice in each file and include\n * the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL\n * Header, with the fields enclosed by brackets [] replaced by your own identifying\n * information: \"Portions copyright [year] [name of copyright owner]\".\n *\n * Copyright 2016-2017 ForgeRock AS.\n */\n\ndefine([\n    \"jquery\",\n    \"lodash\",\n    \"backbone\",\n    \"org/forgerock/commons/ui/common/util/UIUtils\",\n\n    // jquery dependencies\n    \"bootstrap-tabdrop\"\n], ($, _, Backbone, UIUtils) => {\n    function has (attribute, tab) {\n        if (!tab[attribute]) {\n            throw new TypeError(`[TabComponent] Expected all items within 'tabs' to have a '${attribute}' attribute.`);\n        }\n        if (!_.isString(tab[attribute])) {\n            throw new TypeError(`[TabComponent] Expected all items within 'tabs' to have String '${attribute}'s.`);\n        }\n\n        return true;\n    }\n\n    const TabComponent = Backbone.View.extend({\n        template: \"templates/common/components/tab/TabComponentTemplate.html\",\n        bodyTemplate: \"templates/common/components/tab/TabComponentBodyTemplate.html\",\n        events: {\n            \"show.bs.tab ul.nav.nav-tabs a\": \"handleTabClick\"\n        },\n        initialize (options) {\n            if (!(options.tabs instanceof Array)) {\n                throw new TypeError(\"[TabComponent] \\\"tabs\\\" argument is not an Array.\");\n            }\n            if (_.isEmpty(options.tabs)) {\n                throw new TypeError(\"[TabComponent] \\\"tabs\\\" argument is an empty Array.\");\n            }\n            _(options.tabs)\n                .each(_.partial(has, \"id\"))\n                .each(_.partial(has, \"title\"))\n                .value();\n\n            this.options = options;\n        },\n        getBody () {\n            return this.tabBody;\n        },\n        getBodyElement () {\n            return this.$el.find(\"[data-tab-panel]\");\n        },\n        getFooter () {\n            return this.options.tabFooter;\n        },\n        getFooterElement () {\n            return this.$el.find(\"[data-tab-footer]\");\n        },\n        getTabId () {\n            return this.currentTabId;\n        },\n        setTabId (id) {\n            this.currentTabId = id;\n            this.$el.find(`[data-tab-id=\"${id}\"]`).tab(\"show\");\n        },\n        handleTabClick (event) {\n            this.currentTabId = $(event.currentTarget).data(\"tab-id\");\n\n            this.options.tabFooter = this.options.createFooter(this.currentTabId);\n            this.tabBody = this.options.createBody(this.currentTabId);\n\n            UIUtils.compileTemplate(this.bodyTemplate, this.options).then((html) => {\n                this.$el.find(\"[data-tab-component-panel]\").html(html);\n\n                if (this.tabBody) {\n                    this.tabBody.setElement(this.getBodyElement());\n                    this.tabBody.render();\n                }\n\n                if (this.options.tabFooter) {\n                    this.options.tabFooter.setElement(this.getFooterElement());\n                    this.options.tabFooter.render();\n                }\n            });\n        },\n        render () {\n            UIUtils.compileTemplate(this.template, this.options).then((html) => {\n                this.$el.html(html);\n                this.$el.find(\".tab-menu .nav-tabs\").tabdrop();\n                this.setTabId(this.options.tabs[0].id);\n            });\n            return this;\n        }\n    });\n\n    return TabComponent;\n});\n"]}