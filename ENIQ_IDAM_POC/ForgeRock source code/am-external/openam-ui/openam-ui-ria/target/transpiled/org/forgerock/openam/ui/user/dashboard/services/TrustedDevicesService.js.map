{"version":3,"sources":["../../../../../../../../XUI/org/forgerock/openam/ui/user/dashboard/services/TrustedDevicesService.js"],"names":["define","AbstractDelegate","Configuration","Constants","fetchUrl","obj","host","context","getTrustedDevices","serviceCall","url","default","loggedUser","get","headers","deleteTrustedDevice","id","type"],"mappings":";;AAAA;;;;;;;;;;;;;;;;AAgBAA,OAAO,CACH,uDADG,EAEH,oDAFG,EAGH,gDAHG,EAIH,kDAJG,CAAP,EAKG,UAAUC,gBAAV,EAA4BC,aAA5B,EAA2CC,SAA3C,EAAsDC,QAAtD,EAAgE;AAC/D,QAAIC,MAAM,IAAIJ,gBAAJ,MAAwBE,UAAUG,IAAlC,GAAyCH,UAAUI,OAAnD,WAAV;;AAEAF,QAAIG,iBAAJ,GAAwB,YAAY;AAChC,eAAOH,IAAII,WAAJ,CAAgB;AACnBC,iBAAKN,SAASO,OAAT,aAA2BT,cAAcU,UAAd,CAAyBC,GAAzB,CAA6B,KAA7B,CAA3B,kCADc;AAEnBC,qBAAS,EAAE,iBAAiB,UAAnB,EAA+B,sBAAsB,2BAArD;AAFU,SAAhB,CAAP;AAIH,KALD;;AAOAT,QAAIU,mBAAJ,GAA0B,UAAUC,EAAV,EAAc;AACpC,eAAOX,IAAII,WAAJ,CAAgB;AACnBC,iBAAKN,SAASO,OAAT,aAA2BT,cAAcU,UAAd,CAAyBC,GAAzB,CAA6B,KAA7B,CAA3B,yBAAkFG,EAAlF,CADc;AAEnBC,kBAAM,QAFa;AAGnBH,qBAAS,EAAE,sBAAsB,2BAAxB;AAHU,SAAhB,CAAP;AAKH,KAND;;AAQA,WAAOT,GAAP;AACH,CAxBD","file":"TrustedDevicesService.js","sourcesContent":["/*\n * The contents of this file are subject to the terms of the Common Development and\n * Distribution License (the License). You may not use this file except in compliance with the\n * License.\n *\n * You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the\n * specific language governing permission and limitations under the License.\n *\n * When distributing Covered Software, include this CDDL Header Notice in each file and include\n * the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL\n * Header, with the fields enclosed by brackets [] replaced by your own identifying\n * information: \"Portions copyright [year] [name of copyright owner]\".\n *\n * Copyright 2015-2017 ForgeRock AS.\n */\n\ndefine([\n    \"org/forgerock/commons/ui/common/main/AbstractDelegate\",\n    \"org/forgerock/commons/ui/common/main/Configuration\",\n    \"org/forgerock/commons/ui/common/util/Constants\",\n    \"org/forgerock/openam/ui/common/services/fetchUrl\"\n], function (AbstractDelegate, Configuration, Constants, fetchUrl) {\n    var obj = new AbstractDelegate(`${Constants.host}${Constants.context}/json`);\n\n    obj.getTrustedDevices = function () {\n        return obj.serviceCall({\n            url: fetchUrl.default(`/users/${Configuration.loggedUser.get(\"uid\")}/devices/trusted/?_queryId=*`),\n            headers: { \"Cache-Control\": \"no-cache\", \"Accept-API-Version\": \"protocol=1.0,resource=1.0\" }\n        });\n    };\n\n    obj.deleteTrustedDevice = function (id) {\n        return obj.serviceCall({\n            url: fetchUrl.default(`/users/${Configuration.loggedUser.get(\"uid\")}/devices/trusted/${id}`),\n            type: \"DELETE\",\n            headers: { \"Accept-API-Version\": \"protocol=1.0,resource=1.0\" }\n        });\n    };\n\n    return obj;\n});\n"]}