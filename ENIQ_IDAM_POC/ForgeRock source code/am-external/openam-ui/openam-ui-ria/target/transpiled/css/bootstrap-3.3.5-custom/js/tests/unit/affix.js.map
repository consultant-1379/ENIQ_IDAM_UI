{"version":3,"sources":["../../../../../../XUI/css/bootstrap-3.3.5-custom/js/tests/unit/affix.js"],"names":["$","QUnit","module","test","assert","expect","ok","document","body","affix","beforeEach","fn","bootstrapAffix","noConflict","afterEach","strictEqual","undefined","$el","$affix","data","checkPosition","hasClass","done","async","templateHTML","appendTo","offset","position","on","remove","setTimeout","window","scrollTo","scrollHeight","scroll","top","bottom"],"mappings":"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","file":"affix.js","sourcesContent":["$(function () {\n  'use strict';\n\n  QUnit.module('affix plugin')\n\n  QUnit.test('should be defined on jquery object', function (assert) {\n    assert.expect(1)\n    assert.ok($(document.body).affix, 'affix method is defined')\n  })\n\n  QUnit.module('affix', {\n    beforeEach: function () {\n      // Run all tests in noConflict mode -- it's the only way to ensure that the plugin works in noConflict mode\n      $.fn.bootstrapAffix = $.fn.affix.noConflict()\n    },\n    afterEach: function () {\n      $.fn.affix = $.fn.bootstrapAffix\n      delete $.fn.bootstrapAffix\n    }\n  })\n\n  QUnit.test('should provide no conflict', function (assert) {\n    assert.expect(1)\n    assert.strictEqual($.fn.affix, undefined, 'affix was set back to undefined (org value)')\n  })\n\n  QUnit.test('should return jquery collection containing the element', function (assert) {\n    assert.expect(2)\n    var $el = $('<div/>')\n    var $affix = $el.bootstrapAffix()\n    assert.ok($affix instanceof $, 'returns jquery collection')\n    assert.strictEqual($affix[0], $el[0], 'collection contains element')\n  })\n\n  QUnit.test('should exit early if element is not visible', function (assert) {\n    assert.expect(1)\n    var $affix = $('<div style=\"display: none\"/>').bootstrapAffix()\n    $affix.data('bs.affix').checkPosition()\n    assert.ok(!$affix.hasClass('affix'), 'affix class was not added')\n  })\n\n  QUnit.test('should trigger affixed event after affix', function (assert) {\n    assert.expect(2)\n    var done = assert.async()\n\n    var templateHTML = '<div id=\"affixTarget\">'\n        + '<ul>'\n        + '<li>Please affix</li>'\n        + '<li>And unaffix</li>'\n        + '</ul>'\n        + '</div>'\n        + '<div id=\"affixAfter\" style=\"height: 20000px; display: block;\"/>'\n    $(templateHTML).appendTo(document.body)\n\n    $('#affixTarget').bootstrapAffix({\n      offset: $('#affixTarget ul').position()\n    })\n\n    $('#affixTarget')\n      .on('affix.bs.affix', function () {\n        assert.ok(true, 'affix event fired')\n      }).on('affixed.bs.affix', function () {\n        assert.ok(true, 'affixed event fired')\n        $('#affixTarget, #affixAfter').remove()\n        done()\n      })\n\n    setTimeout(function () {\n      window.scrollTo(0, document.body.scrollHeight)\n\n      setTimeout(function () {\n        window.scroll(0, 0)\n      }, 16) // for testing in a browser\n    }, 0)\n  })\n\n  QUnit.test('should affix-top when scrolling up to offset when parent has padding', function (assert) {\n    assert.expect(1)\n    var done = assert.async()\n\n    var templateHTML = '<div id=\"padding-offset\" style=\"padding-top: 20px;\">'\n        + '<div id=\"affixTopTarget\">'\n        + '<p>Testing affix-top class is added</p>'\n        + '</div>'\n        + '<div style=\"height: 1000px; display: block;\"/>'\n        + '</div>'\n    $(templateHTML).appendTo(document.body)\n\n    $('#affixTopTarget')\n      .bootstrapAffix({\n        offset: { top: 120, bottom: 0 }\n      })\n      .on('affixed-top.bs.affix', function () {\n        assert.ok($('#affixTopTarget').hasClass('affix-top'), 'affix-top class applied')\n        $('#padding-offset').remove()\n        done()\n      })\n\n    setTimeout(function () {\n      window.scrollTo(0, document.body.scrollHeight)\n\n      setTimeout(function () {\n        window.scroll(0, 119)\n      }, 250)\n    }, 250)\n  })\n})\n"]}