{"version":3,"sources":["../../../../XUI/components/form/fields/VerticalFormFieldTemplate.jsx"],"names":["VerticalFormFieldTemplate","children","id","label","rawDescription","rawErrors","isRoot","split","length","hasErrors","errorList","error","helpBlock","propTypes","objectOf","props","schema","any","isRequired","string","arrayOf"],"mappings":";;;;;;;;;;;;;;;AAoBA;;;;;;;;;;AAUA,QAAMA,4BAA4B,SAA5BA,yBAA4B,OAAwD;AAAA,YAArDC,QAAqD,QAArDA,QAAqD;AAAA,YAA3CC,EAA2C,QAA3CA,EAA2C;AAAA,YAAvCC,KAAuC,QAAvCA,KAAuC;AAAA,YAAhCC,cAAgC,QAAhCA,cAAgC;AAAA,YAAhBC,SAAgB,QAAhBA,SAAgB;;AACtF;AACA,YAAMC,SAASJ,GAAGK,KAAH,CAAS,GAAT,EAAcC,MAAd,GAAuB,CAAtC;AACA,YAAIF,MAAJ,EAAY;AAAE,mBAAO;AAAA;AAAA;AAAOL;AAAP,aAAP;AAAiC;;AAE/C,YAAMQ,YAAY,CAAC,qBAAQJ,SAAR,CAAnB;AACA,YAAMK,YAAYD,YAEV;AAAA;AAAA,cAAI,WAAU,2CAAd;AACM,6BAAIJ,SAAJ,EAAe,UAACM,KAAD;AAAA,uBACb;AAAA;AAAA,sBAAI,WAAU,OAAd;AAAwBA;AAAxB,iBADa;AAAA,aAAf;AADN,SAFU,GAQZ,IARN;AASA,YAAMC,YAAY,qBAAQR,cAAR,IACZ,IADY,GAEZ;AAAA;AAAA;AAAaA;AAAb,SAFN;;AAIA,eACI;AAAA;AAAA,cAAW,WAAYF,EAAvB,EAA4B,iBAAkBO,YAAY,OAAZ,GAAsB,IAApE;AACI;AAAA;AAAA;AAAgBN;AAAhB,aADJ;AAEMF,oBAFN;AAGMS,qBAHN;AAIME;AAJN,SADJ;AAQH,KA3BD,C,CA9BA;;;;;;;;;;;;;;;;AA2DAZ,8BAA0Ba,SAA1B,GAAsC;AAClCZ,kBAAU,iBAAUa,QAAV,CAAmB;AACzBC,mBAAO,iBAAUD,QAAV,CAAmB;AACtBE,wBAAQ,iBAAUF,QAAV,CAAmB,iBAAUG,GAA7B,EAAkCC;AADpB,aAAnB,EAEJA;AAHsB,SAAnB,EAIPA,UAL+B;AAMlChB,YAAI,iBAAUiB,MANoB;AAOlChB,eAAO,iBAAUgB,MAPiB;AAQlCf,wBAAgB,iBAAUe,MARQ;AASlCd,mBAAW,iBAAUe,OAAV,CAAkB,iBAAUD,MAA5B;AATuB,KAAtC;;sBAYenB,yB","file":"VerticalFormFieldTemplate.js","sourcesContent":["/*\n * The contents of this file are subject to the terms of the Common Development and\n * Distribution License (the License). You may not use this file except in compliance with the\n * License.\n *\n * You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the\n * specific language governing permission and limitations under the License.\n *\n * When distributing Covered Software, include this CDDL Header Notice in each file and include\n * the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL\n * Header, with the fields enclosed by brackets [] replaced by your own identifying\n * information: \"Portions copyright [year] [name of copyright owner]\".\n *\n * Copyright 2017 ForgeRock AS.\n */\n\nimport { FormGroup, ControlLabel, HelpBlock } from \"react-bootstrap\";\nimport { map, isEmpty } from \"lodash\";\nimport React, { PropTypes } from \"react\";\n\n/**\n * Defines inner organization of each field (each form row).\n * @module components/form/fields/VerticalFormFieldTemplate\n * @param {ReactElement} props.children The field or widget component instance for this field row.\n * @param {string} props.id The id of the field in the hierarchy.\n * @param {string} props.label The computed label for this field, as a string.\n * @param {string} props.rawDescription Description of this field.\n * @param {string[]} props.rawErrors Array of errrors.\n * @returns {ReactElement} custom field template\n */\nconst VerticalFormFieldTemplate = ({ children, id, label, rawDescription, rawErrors }) => {\n    // Root object needs to not display label or other formatting.\n    const isRoot = id.split(\"_\").length < 2;\n    if (isRoot) { return <div>{ children }</div>; }\n\n    const hasErrors = !isEmpty(rawErrors);\n    const errorList = hasErrors\n        ? (\n            <ul className=\"list-unstyled text-danger am-error-detail\">\n                { map(rawErrors, (error) =>\n                    <li className=\"small\">{ error }</li>\n                ) }\n            </ul>\n        )\n        : null;\n    const helpBlock = isEmpty(rawDescription)\n        ? null\n        : <HelpBlock>{ rawDescription }</HelpBlock>;\n\n    return (\n        <FormGroup controlId={ id } validationState={ hasErrors ? \"error\" : null }>\n            <ControlLabel>{ label }</ControlLabel>\n            { children }\n            { errorList }\n            { helpBlock }\n        </FormGroup>\n    );\n};\n\nVerticalFormFieldTemplate.propTypes = {\n    children: PropTypes.objectOf({\n        props: PropTypes.objectOf({\n            schema: PropTypes.objectOf(PropTypes.any).isRequired\n        }).isRequired\n    }).isRequired,\n    id: PropTypes.string,\n    label: PropTypes.string,\n    rawDescription: PropTypes.string,\n    rawErrors: PropTypes.arrayOf(PropTypes.string)\n};\n\nexport default VerticalFormFieldTemplate;\n"]}