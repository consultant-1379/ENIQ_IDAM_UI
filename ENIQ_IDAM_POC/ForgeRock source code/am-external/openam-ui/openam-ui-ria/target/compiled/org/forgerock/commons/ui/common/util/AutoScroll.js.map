{"version":3,"sources":["../../../../../../../XUI/org/forgerock/commons/ui/common/util/AutoScroll.js"],"names":["define","$","_","obj","scrollBuffer","scrollDirection","scroll","isNull","window","scrollBy","scrollPosition","pageYOffset","maxScrollPosition","document","height","delay","startDrag","on","throttle","e","mousePosition","pageY","windowHeight","scrollTop","endDrag","off"],"mappings":";;AAAA;;;;;;;;;;;;;;;AAeA;AACCA,OAAO,CACJ,QADI,EAEJ,QAFI,CAAP,EAIE,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACf;;;AAGA,QAAIC,MAAM,EAAV;AAAA,QACIC,eAAe,EADnB;AAAA,QAEIC,kBAAkB,IAFtB;;AAIA,aAASC,MAAT,GAAkB;AACd,YAAI,CAACJ,EAAEK,MAAF,CAASF,eAAT,CAAL,EAAgC;AAC5BG,mBAAOC,QAAP,CAAgB,CAAhB,EAAmBL,eAAeC,eAAlC;;AAEA,gBAAIK,iBAAiBF,OAAOG,WAA5B;AAAA,gBACIC,oBAAoBX,EAAEY,QAAF,EAAYC,MAAZ,KAAuBb,EAAEO,MAAF,EAAUM,MAAV,EAD/C;;AAGA;AACA,gBAAMT,oBAAoB,CAAC,CAArB,IAA0BK,iBAAiB,CAA5C,IACAL,oBAAoB,CAApB,IAAyBK,iBAAiBE,iBAD/C,EACoE;AAChEV,kBAAEa,KAAF,CAAQ,YAAY;AAChBT;AACH,iBAFD,EAEG,EAFH;AAGH;AACJ;AACJ;;AAED;;;AAGAH,QAAIa,SAAJ,GAAgB,YAAW;AACvBf,UAAE,MAAF,EAAUgB,EAAV,CAAa,WAAb,EACIf,EAAEgB,QAAF,CAAW,UAASC,CAAT,EAAY;AACnBd,8BAAkB,IAAlB;AACA,gBAAIe,gBAAgBD,EAAEE,KAAtB;AAAA,gBACIC,eAAerB,EAAEO,MAAF,EAAUM,MAAV,EADnB;AAAA,gBAEIS,YAAYtB,EAAEY,QAAF,EAAYU,SAAZ,EAFhB;;AAIA;AACA,gBAAKH,iBAAiBE,eAAeC,SAAf,GAA2BnB,YAAjD,EAAiE;AAC7DC,kCAAkB,CAAlB;;AAEJ;AACC,aAJD,MAIO,IAAKe,gBAAgBG,SAAjB,IAA+BnB,YAAnC,EAAiD;AACpDC,kCAAkB,CAAC,CAAnB;AACH;;AAEDC;AACH,SAhBD,EAgBG,EAhBH,CADJ;AAmBH,KApBD;;AAsBA;;;AAGAH,QAAIqB,OAAJ,GAAc,YAAW;AACrBvB,UAAE,MAAF,EAAUwB,GAAV,CAAc,WAAd;AACApB,0BAAkB,IAAlB;AACH,KAHD;;AAKA,WAAOF,GAAP;AACH,CA/DA","file":"AutoScroll.js","sourcesContent":["/**\r\n * The contents of this file are subject to the terms of the Common Development and\r\n * Distribution License (the License). You may not use this file except in compliance with the\r\n * License.\r\n *\r\n * You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the\r\n * specific language governing permission and limitations under the License.\r\n *\r\n * When distributing Covered Software, include this CDDL Header Notice in each file and include\r\n * the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL\r\n * Header, with the fields enclosed by brackets [] replaced by your own identifying\r\n * information: \"Portions copyright [year] [name of copyright owner]\".\r\n *\r\n * Copyright 2016 ForgeRock AS.\r\n */\r\n/* eslint-disable */\r\n define([\r\n    \"jquery\",\r\n    \"lodash\"\r\n\r\n], function ($, _) {\r\n    /**\r\n     * @exports org/forgerock/commons/ui/common/util/AutoScroll\r\n     */\r\n    var obj = {},\r\n        scrollBuffer = 20,\r\n        scrollDirection = null;\r\n\r\n    function scroll() {\r\n        if (!_.isNull(scrollDirection)) {\r\n            window.scrollBy(0, scrollBuffer * scrollDirection);\r\n\r\n            var scrollPosition = window.pageYOffset,\r\n                maxScrollPosition = $(document).height() - $(window).height();\r\n\r\n            // If the scroll bar is not at the top nor bottom continue scrolling\r\n            if ( (scrollDirection === -1 && scrollPosition > 0) ||\r\n                (scrollDirection === 1 && scrollPosition < maxScrollPosition) ) {\r\n                _.delay(function () {\r\n                    scroll();\r\n                }, 50);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Call startDrag on Dragula.on(\"drag\", function() {});\r\n     */\r\n    obj.startDrag = function() {\r\n        $(\"body\").on(\"mousemove\",\r\n            _.throttle(function(e) {\r\n                scrollDirection = null;\r\n                var mousePosition = e.pageY,\r\n                    windowHeight = $(window).height(),\r\n                    scrollTop = $(document).scrollTop();\r\n\r\n                // SCROLL DOWN\r\n                if ((mousePosition >= windowHeight + scrollTop - scrollBuffer) ) {\r\n                    scrollDirection = 1;\r\n\r\n                // SCROLL UP\r\n                } else if ((mousePosition - scrollTop) <= scrollBuffer) {\r\n                    scrollDirection = -1;\r\n                }\r\n\r\n                scroll();\r\n            }, 50)\r\n        );\r\n    };\r\n\r\n    /**\r\n     * Call endDrag on Dragula.on(\"drop\", function() {});\r\n     */\r\n    obj.endDrag = function() {\r\n        $(\"body\").off(\"mousemove\");\r\n        scrollDirection = null;\r\n    };\r\n\r\n    return obj;\r\n});"]}