{"version":3,"sources":["../../../../../../../../../XUI/org/forgerock/openam/ui/admin/views/realms/dashboard/DashboardTasksView.js"],"names":["define","$","_","AbstractView","RedirectToLegacyConsole","DashboardTasksView","extend","template","data","element","events","render","args","callback","realmPath","parentRender","cardClick","e","dataset","currentTarget","taskLink","indexOf","preventDefault","taskGroup","find","allTasks","_id","commonTasks","commonTasksBtnClick","tasks"],"mappings":";;AAAA;;;;;;;;;;;;;;;;AAgBAA,OAAO,CACH,QADG,EAEH,QAFG,EAGH,mDAHG,EAIH,6DAJG,CAAP,EAKG,UAAUC,CAAV,EAAaC,CAAb,EAAgBC,YAAhB,EAA8BC,uBAA9B,EAAuD;AACtD,QAAIC,qBAAqBF,aAAaG,MAAb,CAAoB;AACzCC,kBAAU,oEAD+B;AAEzCC,cAAM,EAFmC;AAGzCC,iBAAS,+BAHgC;AAIzCC,gBAAQ;AACJ,yCAA8B,WAD1B;AAEJ,yCAA8B;AAF1B,SAJiC;AAQzCC,cARyC,kBAQjCC,IARiC,EAQ3BC,QAR2B,EAQjB;AACpB,iBAAKC,SAAL,GAAiBF,KAAK,CAAL,CAAjB;AACA,iBAAKG,YAAL,CAAkBF,QAAlB;AACH,SAXwC;AAazCG,iBAbyC,qBAa9BC,CAb8B,EAa3B;AACV,gBAAIC,UAAUjB,EAAEgB,EAAEE,aAAJ,EAAmBX,IAAnB,EAAd;AACA,gBAAI,CAACU,QAAQE,QAAT,IAAqBF,QAAQE,QAAR,CAAiBC,OAAjB,CAAyB,MAAzB,MAAqC,CAA9D,EAAiE;AAC7DJ,kBAAEK,cAAF;AACA,oBAAIJ,QAAQK,SAAZ,EAAuB;AACnB,yBAAKf,IAAL,CAAUe,SAAV,GAAsBrB,EAAEsB,IAAF,CAAO,KAAKhB,IAAL,CAAUiB,QAAjB,EAA2B,EAAEC,KAAKR,QAAQK,SAAf,EAA3B,CAAtB;AACA,yBAAKR,YAAL;AACH,iBAHD,MAGO;AACHX,4CAAwBuB,WAAxB,CAAoC,KAAKb,SAAzC,EAAoDI,QAAQE,QAA5D;AACH;AACJ;AACJ,SAxBwC;AA0BzCQ,2BA1ByC,+BA0BpBX,CA1BoB,EA0BjB;AACpBA,cAAEK,cAAF;AACA,iBAAKd,IAAL,CAAUe,SAAV,GAAsB,EAAtB;AACA,iBAAKf,IAAL,CAAUe,SAAV,CAAoBM,KAApB,GAA4B,KAAKrB,IAAL,CAAUiB,QAAtC;AACA,iBAAKV,YAAL;AACH;AA/BwC,KAApB,CAAzB;;AAkCA,WAAOV,kBAAP;AACH,CAzCD","file":"DashboardTasksView.js","sourcesContent":["/*\n * The contents of this file are subject to the terms of the Common Development and\n * Distribution License (the License). You may not use this file except in compliance with the\n * License.\n *\n * You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the\n * specific language governing permission and limitations under the License.\n *\n * When distributing Covered Software, include this CDDL Header Notice in each file and include\n * the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL\n * Header, with the fields enclosed by brackets [] replaced by your own identifying\n * information: \"Portions copyright [year] [name of copyright owner]\".\n *\n * Copyright 2015-2017 ForgeRock AS.\n */\n\ndefine([\n    \"jquery\",\n    \"lodash\",\n    \"org/forgerock/commons/ui/common/main/AbstractView\",\n    \"org/forgerock/openam/ui/admin/utils/RedirectToLegacyConsole\"\n], function ($, _, AbstractView, RedirectToLegacyConsole) {\n    var DashboardTasksView = AbstractView.extend({\n        template: \"templates/admin/views/realms/dashboard/DashboardTasksTemplate.html\",\n        data: {},\n        element: \"[data-common-tasks-container]\",\n        events: {\n            \"click [data-panel-card] a\" : \"cardClick\",\n            \"click [data-common-tasks]\" : \"commonTasksBtnClick\"\n        },\n        render (args, callback) {\n            this.realmPath = args[0];\n            this.parentRender(callback);\n        },\n\n        cardClick (e) {\n            var dataset = $(e.currentTarget).data();\n            if (!dataset.taskLink || dataset.taskLink.indexOf(\"http\") !== 0) {\n                e.preventDefault();\n                if (dataset.taskGroup) {\n                    this.data.taskGroup = _.find(this.data.allTasks, { _id: dataset.taskGroup });\n                    this.parentRender();\n                } else {\n                    RedirectToLegacyConsole.commonTasks(this.realmPath, dataset.taskLink);\n                }\n            }\n        },\n\n        commonTasksBtnClick (e) {\n            e.preventDefault();\n            this.data.taskGroup = {};\n            this.data.taskGroup.tasks = this.data.allTasks;\n            this.parentRender();\n        }\n    });\n\n    return DashboardTasksView;\n});\n"]}