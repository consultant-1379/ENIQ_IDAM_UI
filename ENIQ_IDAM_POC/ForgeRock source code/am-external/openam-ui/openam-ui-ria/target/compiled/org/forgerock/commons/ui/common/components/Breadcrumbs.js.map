{"version":3,"sources":["../../../../../../../XUI/org/forgerock/commons/ui/common/components/Breadcrumbs.js"],"names":["define","$","_","Backbone","Breadcrumbs","View","extend","size","element","init","window","on","bind","buildByUrl","baseTitle","document","title","path","parts","url","i","humanized","location","href","match","compact","split","getHumanizedUrls","clear","length","push","set","join","urls","map","replace","RegExp","all","first","rest","toUpperCase","pop","name","find","html","after","before","remove"],"mappings":"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","file":"Breadcrumbs.js","sourcesContent":["/**\r\n * The contents of this file are subject to the terms of the Common Development and\r\n * Distribution License (the License). You may not use this file except in compliance with the\r\n * License.\r\n *\r\n * You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the\r\n * specific language governing permission and limitations under the License.\r\n *\r\n * When distributing Covered Software, include this CDDL Header Notice in each file and include\r\n * the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL\r\n * Header, with the fields enclosed by brackets [] replaced by your own identifying\r\n * information: \"Portions copyright [year] [name of copyright owner]\".\r\n *\r\n * Copyright 2011-2016 ForgeRock AS.\r\n */\r\n/* eslint-disable */\r\n define([\r\n    \"jquery\",\r\n    \"underscore\",\r\n    \"backbone\"\r\n], function($, _, Backbone) {\r\n    /**\r\n     * @exports org/forgerock/commons/ui/common/components/Breadcrumbs\r\n     */\r\n    var Breadcrumbs= Backbone.View.extend({\r\n\r\n        size: 0,\r\n        element: \"#nav-content\",\r\n\r\n        /**\r\n         * Registers listeners and creates links using URL\r\n         */\r\n        init: function() {\r\n            $(window).on('hashchange', _.bind(this.buildByUrl, this));\r\n            this.baseTitle = document.title;\r\n            this.buildByUrl();\r\n        },\r\n\r\n        /**\r\n         * Creates links using URL\r\n         */\r\n        buildByUrl: function() {\r\n            var path, parts, url, i, humanized;\r\n\r\n            path = window.location.href.match(/#([a-zA-Z\\/_.@]+)/);\r\n\r\n            if(path === null) {\r\n                document.title = this.baseTitle;\r\n            } else {\r\n                path = path[1];\r\n\r\n                parts = _.compact(path.split('/'));\r\n                humanized = this.getHumanizedUrls(parts);\r\n\r\n                url = \"#\";\r\n\r\n                this.clear();\r\n                for(i = 0; i < parts.length - 1; i++) {\r\n                    url += parts[i] + \"/\";\r\n                    this.push(humanized[i], url);\r\n                }\r\n                this.set(humanized[humanized.length-1]);\r\n\r\n                document.title = this.baseTitle + \" - \" + humanized.join(\" - \");\r\n\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Replaces '_' to ' ' and capitalize first letter in array of strings\r\n         */\r\n        getHumanizedUrls: function(urls) {\r\n            return _.map(urls, function (url) {\r\n                return url.split(\"_\").join(\" \").replace(new RegExp(\"^(.)(.*)\"), function (all, first, rest) {\r\n                    return first.toUpperCase() + rest;\r\n                });\r\n            });\r\n        },\r\n\r\n        clear: function() {\r\n            while(this.size > 0) {\r\n                this.pop();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Sets the name of last breadcrumb item\r\n         */\r\n        set: function(name) {\r\n            $(this.element).find(\"span:last\").html(name);\r\n        },\r\n\r\n        /**\r\n         * Appends link to the breadcrumbs list and an arrow after it.\r\n         */\r\n        push: function(name, url) {\r\n            $(this.element).find(\"a:last\").after(' <a href=\"'+url+'\" class=\"active\">' + name + '</a>');\r\n            $(this.element).find(\"a:last\").before('<img src=\"images/navi-next.png\" width=\"3\" height=\"5\"'\r\n                + ' alt=\"\" align=\"absmiddle\" class=\"navi-next\" /><span></span>');\r\n\r\n            this.size++;\r\n        },\r\n\r\n        pop: function() {\r\n            if($(\"#nav-content\").find(\"a\").length > 1) {\r\n                $(this.element).find(\"a:last\").remove();\r\n                $(this.element).find(\"img:last\").remove();\r\n                $(this.element).find(\"span:last\").remove();\r\n            }\r\n\r\n            this.size--;\r\n        }\r\n    });\r\n\r\n    return new Breadcrumbs();\r\n});"]}