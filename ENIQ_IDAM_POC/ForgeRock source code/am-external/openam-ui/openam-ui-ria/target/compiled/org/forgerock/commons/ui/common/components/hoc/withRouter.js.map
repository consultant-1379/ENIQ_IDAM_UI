{"version":3,"sources":["../../../../../../../../XUI/org/forgerock/commons/ui/common/components/hoc/withRouter.js"],"names":["define","_","React","Router","getDisplayName","WrappedComponent","displayName","name","exports","WithRouter","createClass","render","route","currentRoute","params","extractParameters","getURIFragment","paramsWithDefaults","applyDefaultParameters","router","map","param","decodeURIComponent","createElement","extend","props"],"mappings":";;AAAA;;;;;;;;;;;;;;;;AAgBA;;;AAGA;AACCA,OAAO,CACJ,QADI,EAEJ,OAFI,EAGJ,6CAHI,CAAP,EAIE,UAASC,CAAT,EAAYC,KAAZ,EAAmBC,MAAnB,EAA2B;AAC1B,aAASC,cAAT,CAAyBC,gBAAzB,EAA2C;AACvC,eAAOA,iBAAiBC,WAAjB,IAAgCD,iBAAiBE,IAAjD,IAAyD,WAAhE;AACH;;AAED;;;;;;;;;;;;;;;AAeA,QAAIC,UAAU,SAAVA,OAAU,CAAUH,gBAAV,EAA4B;AACtC,YAAII,aAAaP,MAAMQ,WAAN,CAAkB;AAAA;;AAC/BC,oBAAQ,SAASA,MAAT,GAAkB;AACtB,oBAAIC,QAAQT,OAAOU,YAAnB;AAAA,oBACIC,SAASX,OAAOY,iBAAP,CAAyBH,KAAzB,EAAgCT,OAAOa,cAAP,EAAhC,CADb;AAAA,oBAEIC,qBAAqBd,OAAOe,sBAAP,CAA8BN,KAA9B,EAAqCE,MAArC,CAFzB;AAAA,oBAGIK,SAAS;AACL;;;;;AAKAL,4BAAQb,EAAEmB,GAAF,CAAMH,kBAAN,EAA0B,UAAUI,KAAV,EAAiB;AAC/C,4BAAI,CAACA,KAAL,EAAY;AAAE,mCAAO,EAAP;AAAY;;AAE1B,+BAAOC,mBAAmBD,KAAnB,CAAP;AACH,qBAJO;AANH,iBAHb;;AAgBA,uBAAOnB,MAAMqB,aAAN,CAAoBlB,gBAApB,EAAsCJ,EAAEuB,MAAF,CAAS,EAAT,EAAa,KAAKC,KAAlB,EAAyB,EAAEN,QAAQA,MAAV,EAAzB,CAAtC,CAAP;AACH;AAnB8B,SAAlB,CAAjB;;AAsBAV,mBAAWH,WAAX,GAAyB,gBAAgBF,eAAeC,gBAAf,CAAhB,GAAmD,GAA5E;AACAI,mBAAWJ,gBAAX,GAA8BA,gBAA9B;;AAEA,eAAOI,UAAP;AACH,KA3BD;;AA6BA,WAAOD,OAAP;AACH,CAtDA","file":"withRouter.js","sourcesContent":["/**\r\n * The contents of this file are subject to the terms of the Common Development and\r\n * Distribution License (the License). You may not use this file except in compliance with the\r\n * License.\r\n *\r\n * You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the\r\n * specific language governing permission and limitations under the License.\r\n *\r\n * When distributing Covered Software, include this CDDL Header Notice in each file and include\r\n * the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL\r\n * Header, with the fields enclosed by brackets [] replaced by your own identifying\r\n * information: \"Portions copyright [year] [name of copyright owner]\".\r\n *\r\n * Copyright 2016 ForgeRock AS.\r\n */\r\n\r\n/**\r\n * @module org/forgerock/commons/ui/common/components/hoc/withRouter\r\n */\r\n/* eslint-disable */\r\n define([\r\n    \"lodash\",\r\n    \"react\",\r\n    \"org/forgerock/commons/ui/common/main/Router\"\r\n], function(_, React, Router) {\r\n    function getDisplayName (WrappedComponent) {\r\n        return WrappedComponent.displayName || WrappedComponent.name || \"Component\";\r\n    }\r\n\r\n    /**\r\n     * A HoC (higher-order component) that wraps another component to provide `this.props.router`.\r\n     * Pass in your component and it will return the wrapped component.\r\n     * <p/>\r\n     * Accompanying prop type can be found within the\r\n     * {@link module:org/forgerock/commons/ui/common/components/hoc/withRouterPropType|withRouterPropType} module.\r\n     * @param  {ReactComponent} WrappedComponent Component to wrap\r\n     * @returns {ReactComponent} Wrapped component\r\n     * @example\r\n     * import withRouter from \"org/forgerock/commons/ui/common/components/hoc/withRouter\"\r\n     *\r\n     * class MyReactComponent extends Component { ... }\r\n     *\r\n     * export default withRouter(MyReactComponent)\r\n     */\r\n    var exports = function (WrappedComponent) {\r\n        var WithRouter = React.createClass({\r\n            render: function render() {\r\n                var route = Router.currentRoute,\r\n                    params = Router.extractParameters(route, Router.getURIFragment()),\r\n                    paramsWithDefaults = Router.applyDefaultParameters(route, params),\r\n                    router = {\r\n                        /**\r\n                         * TODO: params should be a key/value pair provided by the router, however the router provides\r\n                         * an array and we must address params in thier position. A router change is required to provide\r\n                         * named parameters making the views less fragile. http://tiny.cc/8wgk8x\r\n                         */\r\n                        params: _.map(paramsWithDefaults, function (param) {\r\n                            if (!param) { return \"\"; }\r\n\r\n                            return decodeURIComponent(param);\r\n                        })\r\n                    };\r\n\r\n                return React.createElement(WrappedComponent, _.extend({}, this.props, { router: router }));\r\n            }\r\n        });\r\n\r\n        WithRouter.displayName = \"withRouter(\" + getDisplayName(WrappedComponent) + \")\";\r\n        WithRouter.WrappedComponent = WrappedComponent;\r\n\r\n        return WithRouter;\r\n    };\r\n\r\n    return exports;\r\n});"]}