{"version":3,"sources":["../../../../../../../../XUI/org/forgerock/openam/ui/user/dashboard/services/PushDeviceService.jsm"],"names":["getAll","remove","delegate","host","context","getPath","loggedUser","get","serviceCall","url","headers","suppressEvents","then","value","result","uuid","method"],"mappings":";;;;;;YA0BgBA,M,GAAAA,M;YAQAC,M,GAAAA,M;;;;;;;;;;;;;;;;AAlChB;;;;;;;;;;;;;;;;AAqBA,QAAMC,WAAW,oCAAwB,oBAAUC,IAAlC,GAAyC,oBAAUC,OAAnD,WAAjB;AACA,QAAMC,UAAU,SAAVA,OAAU,GAAY;AACxB,2BAAiB,wBAAcC,UAAd,CAAyBC,GAAzB,CAA6B,KAA7B,CAAjB;AACH,KAFD;;AAIO,aAASP,MAAT,GAAmB;AACtB,eAAOE,SAASM,WAAT,CAAqB;AACxBC,iBAAK,wBAAYJ,SAAZ,wBADmB;AAExBK,qBAAS,EAAE,sBAAsB,2BAAxB,EAFe;AAGxBC,4BAAgB;AAHQ,SAArB,EAIJC,IAJI,CAIC,UAACC,KAAD;AAAA,mBAAWA,MAAMC,MAAjB;AAAA,SAJD,CAAP;AAKH;;AAEM,aAASb,MAAT,CAAiBc,IAAjB,EAAuB;AAC1B,eAAOb,SAASM,WAAT,CAAqB;AACxBC,iBAAK,wBAASJ,YAAYU,IAArB,CADmB;AAExBL,qBAAS,EAAE,sBAAsB,2BAAxB,EAFe;AAGxBC,4BAAgB,IAHQ;AAIxBK,oBAAQ;AAJgB,SAArB,CAAP;AAMH","file":"PushDeviceService.js","sourcesContent":["/*\n * The contents of this file are subject to the terms of the Common Development and\n * Distribution License (the License). You may not use this file except in compliance with the\n * License.\n *\n * You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the\n * specific language governing permission and limitations under the License.\n *\n * When distributing Covered Software, include this CDDL Header Notice in each file and include\n * the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL\n * Header, with the fields enclosed by brackets [] replaced by your own identifying\n * information: \"Portions copyright [year] [name of copyright owner]\".\n *\n * Copyright 2016-2017 ForgeRock AS.\n */\n\nimport AbstractDelegate from \"org/forgerock/commons/ui/common/main/AbstractDelegate\";\nimport Configuration from \"org/forgerock/commons/ui/common/main/Configuration\";\nimport Constants from \"org/forgerock/commons/ui/common/util/Constants\";\nimport fetchUrl from \"org/forgerock/openam/ui/common/services/fetchUrl\";\n\nconst delegate = new AbstractDelegate(`${Constants.host}${Constants.context}/json`);\nconst getPath = function () {\n    return `/users/${Configuration.loggedUser.get(\"uid\")}/devices/push/`;\n};\n\nexport function getAll () {\n    return delegate.serviceCall({\n        url: fetchUrl(`${getPath()}?_queryFilter=true`),\n        headers: { \"Accept-API-Version\": \"protocol=1.0,resource=1.0\" },\n        suppressEvents: true\n    }).then((value) => value.result);\n}\n\nexport function remove (uuid) {\n    return delegate.serviceCall({\n        url: fetchUrl(getPath() + uuid),\n        headers: { \"Accept-API-Version\": \"protocol=1.0,resource=1.0\" },\n        suppressEvents: true,\n        method: \"DELETE\"\n    });\n}\n"]}