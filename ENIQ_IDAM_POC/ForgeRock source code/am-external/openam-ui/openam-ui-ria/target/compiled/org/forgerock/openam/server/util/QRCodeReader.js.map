{"version":3,"sources":["../../../../../../XUI/org/forgerock/openam/server/util/QRCodeReader.js"],"names":["define","$","QRCodeReader","obj","getCode","options","qr","version","code","addData","text","make","createImgTag","createCode","element","append","container","id","t"],"mappings":";;AAAA;;;;;;;;;;;;;;;;AAgBAA,OAAO,CACH,QADG,EAEH,QAFG,CAAP,EAGG,UAAUC,CAAV,EAAaC,YAAb,EAA2B;AAC1B,QAAIC,MAAM,EAAV;AAAA,QACIC,UAAU,SAAVA,OAAU,CAAUC,OAAV,EAAmB;AACzB,YAAIC,KAAK,IAAIJ,YAAJ,CAAiBG,QAAQE,OAAR,IAAmB,CAApC,EAAuCF,QAAQG,IAAR,IAAgB,GAAvD,CAAT;AACAF,WAAGG,OAAH,CAAWJ,QAAQK,IAAnB;AACAJ,WAAGK,IAAH;;AAEA;AACA,eAAOL,GAAGM,YAAH,CAAgB,CAAhB,EAAmB,CAAnB,CAAP;AACH,KARL;;AAUA;;;;;;;;;;;;AAYAT,QAAIU,UAAJ,GAAiB,UAAUR,OAAV,EAAmB;AAChC,YAAMG,OAAOJ,QAAQC,OAAR,CAAb;AACA,YAAMS,UAAUb,EAAE,4BAAF,CAAhB;AACAa,gBAAQC,MAAR,CAAeP,IAAf;AACA,YAAMQ,YAAYf,QAAMI,QAAQY,EAAd,CAAlB;AACAD,kBAAUD,MAAV,CAAiBD,OAAjB;AACAE,kBAAUD,MAAV,4DAEmBV,QAAQK,IAF3B,sFAGWT,EAAEiB,CAAF,CAAI,6CAAJ,CAHX;AAKH,KAXD;;AAaA,WAAOf,GAAP;AACH,CAxCD","file":"QRCodeReader.js","sourcesContent":["/*\n * The contents of this file are subject to the terms of the Common Development and\n * Distribution License (the License). You may not use this file except in compliance with the\n * License.\n *\n * You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the\n * specific language governing permission and limitations under the License.\n *\n * When distributing Covered Software, include this CDDL Header Notice in each file and include\n * the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL\n * Header, with the fields enclosed by brackets [] replaced by your own identifying\n * information: \"Portions copyright [year] [name of copyright owner]\".\n *\n * Copyright 2015-2017 ForgeRock AS.\n */\n\ndefine([\n    \"jquery\",\n    \"qrcode\"\n], function ($, QRCodeReader) {\n    var obj = {},\n        getCode = function (options) {\n            var qr = new QRCodeReader(options.version || 4, options.code || \"M\");\n            qr.addData(options.text);\n            qr.make();\n\n            //3 is the size of the painted squares, 8 is the white border around the edge\n            return qr.createImgTag(3, 8);\n        };\n\n    /**\n     * Creates QRCode and places it on in the target id.\n     *\n     * This method is called by <strong>org.forgerock.openam.utils.qr</strong> via the\n     * ScriptTextOutputCallback in the RestLoginView.\n     *\n     * @param  {Object} options takes the 4 params below:\n     * @param  {String} version - used to generate QR code.\n     * @param  {String} code - used to generate QR code.\n     * @param  {String} text - used to generate QR code.\n     * @param  {String} id - used to select target.\n     */\n    obj.createCode = function (options) {\n        const code = getCode(options);\n        const element = $(\"<div class='text-center'/>\");\n        element.append(code);\n        const container = $(`#${options.id}`);\n        container.append(element);\n        container.append(\n            `<div class=\"form-group\">\n                <a href=\"${options.text}\" class=\"btn btn-lg btn-block btn-uppercase btn-default\"\n                >${$.t(\"templates.user.LoginTemplate.onMobileDevice\")}</a>\n            </div>`);\n    };\n\n    return obj;\n});\n"]}