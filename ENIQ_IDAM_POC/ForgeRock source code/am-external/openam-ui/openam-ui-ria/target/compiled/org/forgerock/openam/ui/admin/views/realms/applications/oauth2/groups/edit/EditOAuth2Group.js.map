{"version":3,"sources":["../../../../../../../../../../../../XUI/org/forgerock/openam/ui/admin/views/realms/applications/oauth2/groups/edit/EditOAuth2Group.jsm"],"names":["EditOAuth2Group","realm","id","editComponent","data","headerActions","actionPartial","title","icon","listRoute","configuration","routes","realmsApplicationsOAuth2","listRouteArgs","encodeURIComponent","template","getInstance","all","then","schema","values","updateInstance","JSON","parse","deleteInstance","parentRender","$el","append","render"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAyBMA,e;;;;;;;;;;;yCACmB;AAAA;;AAAA;AAAA,oBAAZC,KAAY;AAAA,oBAALC,EAAK;;AACjB,oBAAMC,gBAAgB,kCAAwB;AAC1CC,0BAAM;AACFF,8BADE;AAEFG,uCACI,CAAC,EAAEC,eAAe,cAAjB,EAAiCF,MAAM,QAAvC,EAAiDG,OAAO,oBAAxD,EAA8EC,MAAM,UAApF,EAAD;AAHF,qBADoC;AAM1CC,+BAAW,iBAAOC,aAAP,CAAqBC,MAArB,CAA4BC,wBANG;AAO1CC,mCAAe,CAACC,mBAAmBb,KAAnB,CAAD,CAP2B;AAQ1Cc,8BAAU,2FARgC;;AAU1CC,iCAAa;AAAA,+BAAM,kBAAQC,GAAR,CAAY,CAC3B,mCAAUhB,KAAV,4BAD2B,EAE3B,6BAAIA,KAAJ,6BAA0BC,EAA1B,CAF2B,CAAZ,EAGhBgB,IAHgB,CAGX,iBAAsB;AAAA;AAAA,gCAApBC,MAAoB;AAAA,gCAAZC,MAAY;;AAC1B,mCAAO;AACHD,wCAAQ,yBAAeA,OAAO,CAAP,CAAf,CADL;AAEHC,wCAAQ,yBAAeA,OAAO,CAAP,CAAf;AAFL,6BAAP;AAIH,yBARkB,CAAN;AAAA,qBAV6B;AAmB1CC,oCAAgB,wBAACD,MAAD;AAAA,+BAAY,gCAAOnB,KAAP,6BAA6BqB,KAAKC,KAAL,CAAWH,MAAX,CAA7B,EAAiDlB,EAAjD,CAAZ;AAAA,qBAnB0B;AAoB1CsB,oCAAgB;AAAA,+BAAM,gCAAOvB,KAAP,6BAA6B,CAACC,EAAD,CAA7B,CAAN;AAAA;AApB0B,iBAAxB,CAAtB;;AAuBA,qBAAKuB,YAAL,CAAkB,YAAM;AAAE,2BAAKC,GAAL,CAASC,MAAT,CAAgBxB,cAAcyB,MAAd,GAAuBF,GAAvC;AAA8C,iBAAxE;AACH;;;;;;sBAGU1B,e","file":"EditOAuth2Group.js","sourcesContent":["/*\n * The contents of this file are subject to the terms of the Common Development and\n * Distribution License (the License). You may not use this file except in compliance with the\n * License.\n *\n * You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the\n * specific language governing permission and limitations under the License.\n *\n * When distributing Covered Software, include this CDDL Header Notice in each file and include\n * the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL\n * Header, with the fields enclosed by brackets [] replaced by your own identifying\n * information: \"Portions copyright [year] [name of copyright owner]\".\n *\n * Copyright 2017 ForgeRock AS.\n */\n\nimport { get, getSchema, remove, update } from \"org/forgerock/openam/ui/admin/services/realm/AgentGroupsService\";\nimport { OAUTH2_CLIENT } from \"org/forgerock/openam/ui/admin/services/realm/AgentTypes\";\nimport AbstractView from \"org/forgerock/commons/ui/common/main/AbstractView\";\nimport EditSchemaComponent from \"org/forgerock/openam/ui/admin/views/common/schema/EditSchemaComponent\";\nimport JSONSchema from \"org/forgerock/openam/ui/common/models/JSONSchema\";\nimport JSONValues from \"org/forgerock/openam/ui/common/models/JSONValues\";\nimport Promise from \"org/forgerock/openam/ui/common/util/Promise\";\nimport Router from \"org/forgerock/commons/ui/common/main/Router\";\n\nclass EditOAuth2Group extends AbstractView {\n    render ([realm, id]) {\n        const editComponent = new EditSchemaComponent({\n            data: {\n                id,\n                headerActions:\n                    [{ actionPartial: \"form/_Button\", data: \"delete\", title: \"common.form.delete\", icon: \"fa-times\" }]\n            },\n            listRoute: Router.configuration.routes.realmsApplicationsOAuth2,\n            listRouteArgs: [encodeURIComponent(realm)],\n            template: \"templates/admin/views/realms/applications/oauth2/groups/edit/EditOAuth2GroupTemplate.html\",\n\n            getInstance: () => Promise.all([\n                getSchema(realm, OAUTH2_CLIENT),\n                get(realm, OAUTH2_CLIENT, id)\n            ]).then(([schema, values]) => {\n                return {\n                    schema: new JSONSchema(schema[0]),\n                    values: new JSONValues(values[0])\n                };\n            }),\n            updateInstance: (values) => update(realm, OAUTH2_CLIENT, JSON.parse(values), id),\n            deleteInstance: () => remove(realm, OAUTH2_CLIENT, [id])\n        });\n\n        this.parentRender(() => { this.$el.append(editComponent.render().$el); });\n    }\n}\n\nexport default EditOAuth2Group;\n"]}