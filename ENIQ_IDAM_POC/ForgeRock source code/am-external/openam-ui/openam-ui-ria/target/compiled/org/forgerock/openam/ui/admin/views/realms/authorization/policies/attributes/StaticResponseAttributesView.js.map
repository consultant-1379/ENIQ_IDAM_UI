{"version":3,"sources":["../../../../../../../../../../../XUI/org/forgerock/openam/ui/admin/views/realms/authorization/policies/attributes/StaticResponseAttributesView.js"],"names":["define","_","Backbone","InlineEditTable","StaticResponseAttributesView","View","extend","initialize","staticAttributes","render","getFlattenedStaticAttributes","flatten","map","attribute","propertyValues","value","key","propertyName","inlineEditList","values","$el","append","getGroupedData","getData","groupBy","type"],"mappings":";;AAAA;;;;;;;;;;;;;;;;AAgBAA,OAAO,CACH,QADG,EAEH,UAFG,EAGH,iEAHG,CAAP,EAIG,UAACC,CAAD,EAAIC,QAAJ,EAAcC,eAAd,EAAkC;AACjC,QAAMC,+BAA+BF,SAASG,IAAT,CAAcC,MAAd,CAAqB;AAEtDC,kBAFsD,4BAEpB;AAAA,gBAApBC,gBAAoB,QAApBA,gBAAoB;;AAC9B,iBAAKA,gBAAL,GAAwBA,gBAAxB;AACH,SAJqD;AAMtDC,cANsD,oBAM5C;AAAA;;AACN,gBAAMC,+BAA+B,SAA/BA,4BAA+B;AAAA,uBAAMT,EAAEU,OAAF,CACvCV,EAAEW,GAAF,CAAM,MAAKJ,gBAAX,EAA6B,UAACK,SAAD;AAAA,2BACzBZ,EAAEW,GAAF,CAAMC,UAAUC,cAAhB,EAAgC,UAACC,KAAD;AAAA,+BAAY,EAAEC,KAAKH,UAAUI,YAAjB,EAA+BF,YAA/B,EAAZ;AAAA,qBAAhC,CADyB;AAAA,iBAA7B,CADuC,CAAN;AAAA,aAArC;;AAKA,iBAAKG,cAAL,GAAsB,IAAIf,eAAJ,CAAoB;AACtCgB,wBAAQT;AAD8B,aAApB,CAAtB;AAGA,iBAAKU,GAAL,CAASC,MAAT,CAAgB,KAAKH,cAAL,CAAoBT,MAApB,GAA6BW,GAA7C;;AAEA,mBAAO,IAAP;AACH,SAlBqD;AAoBtDE,sBApBsD,4BAoBpC;AACd,mBAAOrB,EAAE,KAAKiB,cAAL,CAAoBK,OAApB,EAAF,EACFC,OADE,CACM,KADN,EAEFZ,GAFE,CAEE,UAACO,MAAD,EAASH,GAAT;AAAA,uBAAkB;AACnBS,0BAAM,QADa;AAEnBR,kCAAcD,GAFK;AAGnBF,oCAAgBb,EAAEW,GAAF,CAAMO,MAAN,EAAc,OAAd;AAHG,iBAAlB;AAAA,aAFF,EAOFJ,KAPE,EAAP;AAQH;AA7BqD,KAArB,CAArC;;AAgCA,WAAOX,4BAAP;AACH,CAtCD","file":"StaticResponseAttributesView.js","sourcesContent":["/*\n * The contents of this file are subject to the terms of the Common Development and\n * Distribution License (the License). You may not use this file except in compliance with the\n * License.\n *\n * You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the\n * specific language governing permission and limitations under the License.\n *\n * When distributing Covered Software, include this CDDL Header Notice in each file and include\n * the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL\n * Header, with the fields enclosed by brackets [] replaced by your own identifying\n * information: \"Portions copyright [year] [name of copyright owner]\".\n *\n * Copyright 2014-2017 ForgeRock AS.\n */\n\ndefine([\n    \"lodash\",\n    \"backbone\",\n    \"org/forgerock/openam/ui/common/components/table/InlineEditTable\"\n], (_, Backbone, InlineEditTable) => {\n    const StaticResponseAttributesView = Backbone.View.extend({\n\n        initialize ({ staticAttributes }) {\n            this.staticAttributes = staticAttributes;\n        },\n\n        render () {\n            const getFlattenedStaticAttributes = () => _.flatten(\n                _.map(this.staticAttributes, (attribute) =>\n                    _.map(attribute.propertyValues, (value) => ({ key: attribute.propertyName, value }))\n                ));\n\n            this.inlineEditList = new InlineEditTable({\n                values: getFlattenedStaticAttributes()\n            });\n            this.$el.append(this.inlineEditList.render().$el);\n\n            return this;\n        },\n\n        getGroupedData () {\n            return _(this.inlineEditList.getData())\n                .groupBy(\"key\")\n                .map((values, key) => ({\n                    type: \"Static\",\n                    propertyName: key,\n                    propertyValues: _.map(values, \"value\")\n                }))\n                .value();\n        }\n    });\n\n    return StaticResponseAttributesView;\n});\n"]}