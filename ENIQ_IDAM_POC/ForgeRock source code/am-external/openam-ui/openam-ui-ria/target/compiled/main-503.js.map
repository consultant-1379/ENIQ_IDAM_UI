{"version":3,"sources":["../XUI/main-503.js"],"names":["require","config","map","paths","shim","exports","deps","$","HandleBars","Configuration","Constants","ServiceUnavailableTemplate","LoginHeaderTemplate","i18nManager","query","ThemeManager","params","getCurrentQueryParameters","init","paramLang","locale","defaultLang","DEFAULT_LANGUAGE","loadTemplates","data","html","compile","globalData","realm","getTheme","then","theme"],"mappings":";;AAAA;;;;;;;;;;;;;;;;AAgBAA,QAAQC,MAAR,CAAe;AACXC,SAAK;AACD,aAAK;AACD,4BAAgB,kDADf;AAED,sBAAU,kDAFT;AAGD;AACA,0BAAc;AAJb;AADJ,KADM;AASXC,WAAO;AACH,sBAAc,uBADX;AAEH,mBAAW,wBAFR;AAGH,kBAAU,uBAHP;AAIH,kBAAU,wBAJP;AAKH,iBAAS,sBALN;AAMH,yBAAiB,8BANd;AAOH,gBAAQ;AAPL,KATI;AAkBXC,UAAM;AACF,sBAAc;AACVC,qBAAS;AADC,SADZ;AAIF,mBAAW;AACPC,kBAAM,CAAC,QAAD,EAAW,YAAX,CADC;AAEPD,qBAAS;AAFF,SAJT;AAQF,kBAAU;AACNA,qBAAS;AADH;AARR;AAlBK,CAAf;;AAgCAL,QAAQ,CACJ,QADI,EAEJ,YAFI,EAGJ,oDAHI,EAIJ,+CAJI,EAKJ,sCALI,EAMJ,gDANI,EAOJ,kDAPI,EAQJ,+CARI,EASJ,cATI,CAAR,EAUG,UAACO,CAAD,EAAIC,UAAJ,EAAgBC,aAAhB,EAA+BC,SAA/B,EAA0CC,0BAA1C,EAAsEC,mBAAtE,EACCC,WADD,EACcC,KADd,EACqBC,YADrB,EACsC;AACrC,QAAMC,SAASF,MAAMG,yBAAN,EAAf;;AAEAJ,gBAAYK,IAAZ,CAAiB;AACbC,mBAAW,EAAEC,QAASJ,OAAOI,MAAlB,EADE;AAEbC,qBAAaX,UAAUY;AAFV,KAAjB;;AAKA,QAAMC,gBAAgB,SAAhBA,aAAgB,CAACC,IAAD,EAAU;AAC5BjB,UAAE,gBAAF,EAAoBkB,IAApB,CAAyBjB,WAAWkB,OAAX,CAAmBd,mBAAnB,EAAwCY,IAAxC,CAAzB;AACAjB,UAAE,UAAF,EAAckB,IAAd,CAAmBjB,WAAWkB,OAAX,CAAmBf,0BAAnB,EAA+Ca,IAA/C,CAAnB;AACH,KAHD;;AAKA;AACAf,kBAAckB,UAAd,GAA2B,EAAEC,OAAQZ,OAAOY,KAAjB,EAA3B;AACAb,iBAAac,QAAb,GAAwBC,IAAxB,CAA6B,UAACC,KAAD,EAAW;AACpC,YAAMP,OAAO,EAAEO,YAAF,EAAb;AACAR,sBAAcC,IAAd;AACH,KAHD,EAGGD,aAHH;AAIH,CA9BD","file":"main-503.js","sourcesContent":["/*\n * The contents of this file are subject to the terms of the Common Development and\n * Distribution License (the License). You may not use this file except in compliance with the\n * License.\n *\n * You can obtain a copy of the License at legal/CDDLv1.0.txt. See the License for the\n * specific language governing permission and limitations under the License.\n *\n * When distributing Covered Software, include this CDDL Header Notice in each file and include\n * the License file at legal/CDDLv1.0.txt. If applicable, add the following below the CDDL\n * Header, with the fields enclosed by brackets [] replaced by your own identifying\n * information: \"Portions copyright [year] [name of copyright owner]\".\n *\n * Copyright 2017 ForgeRock AS.\n */\n\nrequire.config({\n    map: {\n        \"*\": {\n            \"ThemeManager\": \"org/forgerock/openam/ui/common/util/ThemeManager\",\n            \"Router\": \"org/forgerock/openam/ui/common/SingleRouteRouter\",\n            // TODO: Remove this when there are no longer any references to the \"underscore\" dependency\n            \"underscore\": \"lodash\"\n        }\n    },\n    paths: {\n        \"handlebars\": \"libs/handlebars-4.0.5\",\n        \"i18next\": \"libs/i18next-1.7.3-min\",\n        \"jquery\": \"libs/jquery-2.1.1-min\",\n        \"lodash\": \"libs/lodash-3.10.1-min\",\n        \"redux\": \"libs/redux-3.5.2-min\",\n        \"redux-actions\": \"libs/redux-actions-2.0.1-min\",\n        \"text\": \"libs/text-2.0.15\"\n    },\n    shim: {\n        \"handlebars\": {\n            exports: \"handlebars\"\n        },\n        \"i18next\": {\n            deps: [\"jquery\", \"handlebars\"],\n            exports: \"i18n\"\n        },\n        \"lodash\": {\n            exports: \"_\"\n        }\n    }\n});\n\nrequire([\n    \"jquery\",\n    \"handlebars\",\n    \"org/forgerock/commons/ui/common/main/Configuration\",\n    \"org/forgerock/openam/ui/common/util/Constants\",\n    \"text!templates/common/error/503.html\",\n    \"text!templates/common/LoginHeaderTemplate.html\",\n    \"org/forgerock/commons/ui/common/main/i18nManager\",\n    \"org/forgerock/openam/ui/common/util/uri/query\",\n    \"ThemeManager\"\n], ($, HandleBars, Configuration, Constants, ServiceUnavailableTemplate, LoginHeaderTemplate,\n    i18nManager, query, ThemeManager) => {\n    const params = query.getCurrentQueryParameters();\n\n    i18nManager.init({\n        paramLang: { locale : params.locale },\n        defaultLang: Constants.DEFAULT_LANGUAGE\n    });\n\n    const loadTemplates = (data) => {\n        $(\"#loginBaseLogo\").html(HandleBars.compile(LoginHeaderTemplate)(data));\n        $(\"#content\").html(HandleBars.compile(ServiceUnavailableTemplate)(data));\n    };\n\n    // required by ThemeManager\n    Configuration.globalData = { realm : params.realm };\n    ThemeManager.getTheme().then((theme) => {\n        const data = { theme };\n        loadTemplates(data);\n    }, loadTemplates);\n});\n"]}